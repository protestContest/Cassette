import List
import Math
import Canvas
import System

let width = 800,
    height = 480,
    canvas = Canvas.new(width, height)

let c = 180 / Math.Pi,
    scale = 4,
    offset = 100

List.map(\n -> do
  let a1 = (150 + 40 * n) / c,
      x1 = 75 + 3.5 * n * Math.cos(a1),
      y1 = 65 + 3.5 * n * Math.sin(a1)
  List.map(\i -> do
    List.map(\j -> do
      let r = 1.2 * n,
          a = i * (360 / n) / c,
          aa = j * (360 / n) / c,
          x = x1 + r * Math.cos(a),
          y = y1 + r * Math.sin(a),
          xx = x1 + r * Math.cos(aa),
          yy = y1 + r * Math.sin(aa)
      canvas.line({scale * x + offset, scale * y}, {scale * xx + offset, scale * yy})
    end, (i + 1)..n)
  end, 0..(n - 1))
end, 3..12)
