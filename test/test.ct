import Noise
import Canvas
import List
import IO

let canvas = Canvas.new 100 100

let data =
  List.flatmap \y -> do
    List.flatmap \x -> do
      let n = Type.trunc 256 * (Noise.perlin x y 0.1 3)
      [n, n, n, 255]
    end (List.range 0 canvas.width)
  end (List.range 0 canvas.height)

let img = Type.stuff data

canvas.blit img {0, 0} {canvas.width, canvas.height}
