module File
import IO
export read, write

def read(path) do
  let file = IO.open(path, :read)
  if IO.is_error(file) do
    file
  else
    let size = IO.seek(file, 0, :end)
    IO.seek(file, 0, :start)
    let contents = IO.read(file, size)
    IO.close(file)
    contents
  end
end

def write(path, data) do
  let file = IO.open(path, :write)
  if file do
    let written = IO.write(file, data)
    IO.close(file)
    written
  else
    0
  end
end
