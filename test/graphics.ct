import Sketch, Range, Window

def draw_image(window, mod) do
  let white = {0xFF, 0xFF, 0xFF, 0},
      black = {0, 0, 0, 0},
      pixels =
        Range.for(0, window.height, \y ->
          Range.for(0, window.width, \x ->
            if (x ^ y) % mod, white else black)),
      img = Host.format(pixels)
  Window.blit(img, window.width, window.height, 0, 0, window)

  \window -> draw_image(window, mod+1)
end

let window = Window.open("Sketch", 500, 500)

Sketch.draw(window, \window -> draw_image(window, 9))
