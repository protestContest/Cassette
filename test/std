def (reduce list acc fn) do
  if list == nil do
    acc
  else
    reduce (tail list) (fn (head list) acc) fn
  end
end

def (map list fn) do
  reduce list [] (item acc) -> [(fn item) | acc]
end

def (iota n) do
  def (loop m list) do
    if m == n do
      list
    else
      loop m + 1 m | list
    end
  end

  loop 0 []
end

:ok